<ion-header >
    <ion-toolbar color="warning">
        <ion-title >Farmer and his corns</ion-title>
    </ion-toolbar>
</ion-header>

<ion-content class="sign-in-content">

    <h2 class="auth-title" >
        Sign In 
      </h2>

    <form class="form" [formGroup]="validations_form" (ngSubmit)="loginUser(validations_form.value)">

        <ion-item class="input-item">
            <ion-icon name="mail-outline"></ion-icon> &nbsp;&nbsp; 
            <ion-input type="email" placeholder="Email" formControlName="email" clearInput autocapitalize="off" inputmode="email"></ion-input>
        </ion-item>
        
        <div class="error-container">
            <ng-container *ngFor="let validation of validation_messages.email">
                <div class="error-message" *ngIf="validations_form.get('email').hasError(validation.type) && (validations_form.get('email').dirty || validations_form.get('email').touched)">
                <ion-icon name="information-circle-outline"></ion-icon>
                    {{ validation.message }}
                </div>
            </ng-container>
        </div>
        <br>

        <ion-item>
            <ion-icon name="lock-closed"></ion-icon> &nbsp;&nbsp;
            <ion-input type="password" placeholder="Password" formControlName="password"></ion-input>
        </ion-item>

        <div class="error-container">
            <ng-container *ngFor="let validation of validation_messages.password">
                <div class="error-message" *ngIf="validations_form.get('password').hasError(validation.type) && (validations_form.get('password').dirty || validations_form.get('password').touched)">
                <ion-icon name="information-circle-outline"></ion-icon>
                    {{ validation.message }}
                </div>
            </ng-container>
        </div>
        <br>
        <ion-button color="success" shape="round" type="submit"  fill="solid" [disabled]="!validations_form.valid" >Login</ion-button>

        <div class="error-container">
            <ng-container >
                <div class="error-message" >
                    {{errorMessage}}
                </div>
            </ng-container>
        </div>

          <div class="ion-card-footer">
            <span>Donâ€™t have an account?</span><button [routerLink]="['/signup']" >Sign Up</button>
             </div>
    </form>


</ion-content>